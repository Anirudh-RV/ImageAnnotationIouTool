{"ast":null,"code":"import _classCallCheck from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import logo from\"./logo.svg\";import'./App.css';var UploadFile=/*#__PURE__*/function(_Component){_inherits(UploadFile,_Component);// Testing purpose, Uploading single file using json \nfunction UploadFile(props){var _this;_classCallCheck(this,UploadFile);_this=_possibleConstructorReturn(this,_getPrototypeOf(UploadFile).call(this,props));_this.state={imageURL:''};_this.handleUploadImage=_this.handleUploadImage.bind(_assertThisInitialized(_this));return _this;}_createClass(UploadFile,[{key:\"handleUploadImage\",value:function handleUploadImage(ev){var _this2=this;ev.preventDefault();var data=new FormData();data.append('file',this.uploadInput.files[0]);data.append('filename',this.fileName.value);fetch('http://localhost:4000/upload',{method:'POST',body:data}).then(function(response){response.json().then(function(body){_this2.setState({imageURL:\"http://localhost:4000/\".concat(body.file)});});});}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(\"div\",{className:\"App\"},React.createElement(\"h1\",null,\"FileUpload\"),React.createElement(\"form\",{onSubmit:this.handleUploadImage},React.createElement(\"div\",null,React.createElement(\"input\",{ref:function ref(_ref){_this3.uploadInput=_ref;},type:\"file\"})),React.createElement(\"br\",null),React.createElement(\"div\",null,React.createElement(\"input\",{ref:function ref(_ref2){_this3.fileName=_ref2;},type:\"text\",placeholder:\"Enter the desired name of file\"})),React.createElement(\"br\",null),React.createElement(\"div\",null,React.createElement(\"button\",null,\"Upload\")),React.createElement(\"hr\",null),React.createElement(\"p\",null,\"Uploaded Image:\"),React.createElement(\"img\",{src:this.state.imageURL,alt:\"img\"})));}}]);return UploadFile;}(Component);export default UploadFile;","map":{"version":3,"sources":["/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/src/SPA_components/UploadFile.js"],"names":["React","Component","UploadFile","props","state","imageURL","handleUploadImage","bind","ev","preventDefault","data","FormData","append","uploadInput","files","fileName","value","fetch","method","body","then","response","json","setState","file","ref"],"mappings":"kjCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,6BAEA,MAAO,WAAP,C,GAGMC,CAAAA,U,oEACN;AAGA,oBAAYC,KAAZ,CAAmB,4CACnB,4EAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CACbC,QAAQ,CAAE,EADG,CAAb,CAIA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB,CAPmB,aAQlB,C,mFAEiBC,E,CAAI,iBACtBA,EAAE,CAACC,cAAH,GAEA,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,QAAJ,EAAb,CACAD,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoB,KAAKC,WAAL,CAAiBC,KAAjB,CAAuB,CAAvB,CAApB,EACAJ,IAAI,CAACE,MAAL,CAAY,UAAZ,CAAwB,KAAKG,QAAL,CAAcC,KAAtC,EAEAC,KAAK,CAAC,8BAAD,CAAiC,CACtCC,MAAM,CAAE,MAD8B,CAEtCC,IAAI,CAAET,IAFgC,CAAjC,CAAL,CAGGU,IAHH,CAGQ,SAAAC,QAAQ,CAAI,CACpBA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,SAAAD,IAAI,CAAI,CAC7B,MAAI,CAACI,QAAL,CAAc,CAAElB,QAAQ,iCAA2Bc,IAAI,CAACK,IAAhC,CAAV,CAAd,EACC,CAFD,EAGC,CAPD,EAQC,C,uCAEQ,iBACT,MACA,4BAAK,SAAS,CAAC,KAAf,EACA,2CADA,CAEA,4BAAM,QAAQ,CAAE,KAAKlB,iBAArB,EACA,+BACA,6BACA,GAAG,CAAE,aAAAmB,IAAG,CAAI,CACZ,MAAI,CAACZ,WAAL,CAAmBY,IAAnB,CACC,CAHD,CAIA,IAAI,CAAC,MAJL,EADA,CADA,CASA,8BATA,CAUA,+BACA,6BACA,GAAG,CAAE,aAAAA,KAAG,CAAI,CACZ,MAAI,CAACV,QAAL,CAAgBU,KAAhB,CACC,CAHD,CAIA,IAAI,CAAC,MAJL,CAKA,WAAW,CAAC,gCALZ,EADA,CAVA,CAmBA,8BAnBA,CAoBA,+BACA,2CADA,CApBA,CAuBA,8BAvBA,CAwBA,+CAxBA,CAyBA,2BAAK,GAAG,CAAE,KAAKrB,KAAL,CAAWC,QAArB,CAA+B,GAAG,CAAC,KAAnC,EAzBA,CAFA,CADA,CAgCC,C,wBAhEwBJ,S,EAkEzB,cAAeC,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\n\nclass UploadFile extends Component {\n// Testing purpose, Uploading single file using json \n\n\nconstructor(props) {\nsuper(props);\n\nthis.state = {\nimageURL: ''\n};\n\nthis.handleUploadImage = this.handleUploadImage.bind(this);\n}\n\nhandleUploadImage(ev) {\nev.preventDefault();\n\nconst data = new FormData();\ndata.append('file', this.uploadInput.files[0]);\ndata.append('filename', this.fileName.value);\n\nfetch('http://localhost:4000/upload', {\nmethod: 'POST',\nbody: data\n}).then(response => {\nresponse.json().then(body => {\nthis.setState({ imageURL: `http://localhost:4000/${body.file}` });\n});\n});\n}\n\nrender() {\nreturn (\n<div className=\"App\">\n<h1>FileUpload</h1>\n<form onSubmit={this.handleUploadImage}>\n<div>\n<input\nref={ref => {\nthis.uploadInput = ref;\n}}\ntype=\"file\"\n/>\n</div>\n<br />\n<div>\n<input\nref={ref => {\nthis.fileName = ref;\n}}\ntype=\"text\"\nplaceholder=\"Enter the desired name of file\"\n/>\n</div>\n<br />\n<div>\n<button>Upload</button>\n</div>\n<hr />\n<p>Uploaded Image:</p>\n<img src={this.state.imageURL} alt=\"img\" />\n</form>\n</div>\n);\n}\n}\nexport default UploadFile;\n"]},"metadata":{},"sourceType":"module"}