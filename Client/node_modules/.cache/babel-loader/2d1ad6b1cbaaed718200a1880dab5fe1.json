{"ast":null,"code":"import _classCallCheck from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.css';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Bootstrap from\"react-bootstrap\";import{FormGroup,FormControl}from\"react-bootstrap\";import{Link}from'react-router-dom';import IntroBar from'./IntroBar';import axios from'axios';var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);function SignUp(){var _getPrototypeOf2;var _this;_classCallCheck(this,SignUp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SignUp)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.signupUser=function(){var email=_this.emailId.value;var username=_this.userName.value;var fullname=_this.fullName.value;var password=_this.Password.value;console.log(\"\\n\"+email+\"\\n\"+username+\"\\n\"+fullname+\"\\n\"+password+\"\\n\");console.log(\"Calling GO API at 8080 : \");var data=email+\",\"+username+\",\"+fullname+\",\"+password;axios.post(\"http://192.168.1.8:8080/addusertodatabase\",data).then(function(res){// then print response status\n//toast.success('upload success')\nconsole.log(\"API message : \");console.log(res);console.log(\"result : \"+res.data[\"message\"]);// redirect to CustomRouting with data\n_this.props.history.push({pathname:'/customrouting',state:{usercredentials:username,checkval:res.data[\"message\"]}});}).catch(function(err){// then print response status\n//  toast.error('upload fail')\nconsole.log(\"fail\");console.log(err);});};_this.len=function(checkvar){return checkvar.length;};_this.validateEmail=function(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(email);};_this.checkforexistingUsername=function(field,value){var data=field+\",\"+value;console.log(\"Calling GO API at 8080 : \");axios.post(\"http://192.168.1.8:8080/validateinfo\",data).then(function(res){// then print response status\n//toast.success('upload success')\nconsole.log(\"API message : \");console.log(res);console.log(\"result : \"+res.data[\"message\"]);if(res.data[\"message\"]==\"Yes\"){// existing emailID\n_this.userNameError.innerHTML=\"UserName already taken, please try another.\";}else{// EmailID,UserName,FullName,Password : good\n// call signupUser\n_this.signupUser();}}).catch(function(err){// then print response status\n//  toast.error('upload fail')\nconsole.log(\"fail\");console.log(err);});};_this.checkforexistingEmail=function(field,value,username){var data=field+\",\"+value;console.log(\"Calling GO API at 8080 : \");axios.post(\"http://192.168.1.8:8080/validateinfo\",data).then(function(res){// then print response status\n//toast.success('upload success')\nconsole.log(\"API message : \");console.log(res);console.log(\"result : \"+res.data[\"message\"]);if(res.data[\"message\"]==\"Yes\"){// existing emailID\n_this.emailError.innerHTML=\"Already existing email, do you want to login?\";}else{// EmailID is good, check for UserName\n_this.checkforexistingUsername(\"username\",username);}}).catch(function(err){// then print response status\n//  toast.error('upload fail')\nconsole.log(\"fail\");console.log(err);});};_this.handleEmail=function(email,flag){if(_this.validateEmail(email)){_this.emailError.innerHTML=\"\";// check for exisiting emailId\n}else{flag=false;console.log(\"Email Error\");_this.emailError.innerHTML=\"Invalid emailId\";}return flag;};_this.handleuserName=function(username,flag){if(_this.len(username)>=4){_this.userNameError.innerHTML=\"\";}else{flag=false;console.log(\"userName Error\");_this.userNameError.innerHTML=\"Invalid Username\";}return flag;};_this.handlefullName=function(fullname,flag){if(_this.len(fullname)!=0){_this.fullNameError.innerHTML=\"\";console.log(_this.len(fullname));}else{flag=false;console.log(\"fullName Error\");_this.fullNameError.innerHTML=\"Please fill your name\";}return flag;};_this.handlePassword=function(password,flag){if(_this.len(password)>=6){_this.PasswordError.innerHTML=\"\";console.log(_this.len(password));}else{flag=false;console.log(\"fullName Error\");_this.PasswordError.innerHTML=\"Password too weak\";}return flag;};_this.handleSubmit=function(){var email=_this.emailId.value;var username=_this.userName.value;var fullname=_this.fullName.value;var password=_this.Password.value;var flag=true;// validating email\nflag=_this.handleEmail(email,flag);// validating username\nflag=_this.handleuserName(username,flag);// validating fullName\nflag=_this.handlefullName(fullname,flag);// validating passWord\nflag=_this.handlePassword(password,flag);if(flag){// allow to pass through the API\n_this.checkforexistingEmail(\"email\",email,username);}else{// show error (do nothing)\nconsole.log(\"invalid entry\");}};return _this;}_createClass(SignUp,[{key:\"componentDidMount\",//TODO : ADD Footer information\nvalue:function componentDidMount(){// OnLoad function\nthis.accountexists=false;this.userNameExists=false;this.handleEmail.bind(this);}//addusertodatabase\n},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"BackgroundSign\"},React.createElement(\"h1\",{className:\"AppName\"},\"End-to-end data curation and annotation platform\"),React.createElement(\"div\",{className:\"Login\"},React.createElement(\"form\",null,React.createElement(\"p\",{class:\"SignInHead\"},\"X-P1\"),React.createElement(\"p\",{class:\"SignUpHead\"},\"Sign up to make data collection and image annotation easier.\"),React.createElement(FormGroup,{controlId:\"email\",bsSize:\"large\"},React.createElement(FormControl,{autoFocus:true,placeholder:\"Email\",ref:function ref(c){return _this2.emailId=c;}})),React.createElement(\"p\",{className:\"ErrorMessage\",ref:function ref(c){return _this2.emailError=c;}}),React.createElement(FormGroup,{controlId:\"Username\",bsSize:\"large\"},React.createElement(FormControl,{autoFocus:true,placeholder:\"Username\",ref:function ref(c){return _this2.userName=c;}})),React.createElement(\"p\",{className:\"ErrorMessage\",ref:function ref(c){return _this2.userNameError=c;}}),React.createElement(FormGroup,{controlId:\"Name\",bsSize:\"large\"},React.createElement(FormControl,{autoFocus:true,placeholder:\"Full Name\",ref:function ref(c){return _this2.fullName=c;}})),React.createElement(\"p\",{className:\"ErrorMessage\",ref:function ref(c){return _this2.fullNameError=c;}}),React.createElement(FormGroup,{controlId:\"password\",bsSize:\"large\"},React.createElement(FormControl,{placeholder:\"Password\",ref:function ref(c){return _this2.Password=c;},type:\"password\"}),React.createElement(\"p\",{className:\"ErrorMessage\",ref:function ref(c){return _this2.PasswordError=c;}})),React.createElement(Button,{block:true,bsSize:\"large\",onClick:this.handleSubmit,type:\"button\"},\"Sign up\"),React.createElement(\"p\",{class:\"Terms\"},\"By signing up, you agree to our Terms , Data Policy and Cookies Policy .\"))),React.createElement(\"div\",{className:\"SecondBox\"},React.createElement(\"p\",{className:\"LinkToAccount\"},\"  Have an account?\\xA0\",React.createElement(Link,{className:\"LinkToSignIn\",to:\"./signin\"},\"Log in\"))));}}]);return SignUp;}(Component);export default SignUp;","map":{"version":3,"sources":["/Users/anirudhrv/Desktop/Misc/InteractiveImageAnnotation/Application/ImageAnnotation/Client/src/SPA_components/SignUp.js"],"names":["React","Component","Form","Button","Bootstrap","FormGroup","FormControl","Link","IntroBar","axios","SignUp","signupUser","email","emailId","value","username","userName","fullname","fullName","password","Password","console","log","data","post","then","res","props","history","push","pathname","state","usercredentials","checkval","catch","err","len","checkvar","length","validateEmail","re","test","checkforexistingUsername","field","userNameError","innerHTML","checkforexistingEmail","emailError","handleEmail","flag","handleuserName","handlefullName","fullNameError","handlePassword","PasswordError","handleSubmit","accountexists","userNameExists","bind","c"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Bootstrap from \"react-bootstrap\";\nimport {FormGroup, FormControl} from \"react-bootstrap\";\nimport { Link } from 'react-router-dom';\nimport IntroBar from './IntroBar';\nimport axios from 'axios';\n\nclass SignUp extends Component {\n//TODO : ADD Footer information\n\ncomponentDidMount(){\n// OnLoad function\nthis.accountexists = false;\nthis.userNameExists = false;\nthis.handleEmail.bind(this);\n}\n\n//addusertodatabase\n\nsignupUser = () =>{\n    var email = this.emailId.value;\n    var username = this.userName.value;\n    var fullname = this.fullName.value;\n    var password = this.Password.value;\n    console.log(\"\\n\"+email+\"\\n\"+username+\"\\n\"+fullname+\"\\n\"+password+\"\\n\")\n    console.log(\"Calling GO API at 8080 : \")\n    var data = email+\",\"+username+\",\"+fullname+\",\"+password\n    axios.post(\"http://192.168.1.8:8080/addusertodatabase\",data)\n      .then(res => { // then print response status\n        //toast.success('upload success')\n        console.log(\"API message : \")\n        console.log(res)\n        console.log(\"result : \"+res.data[\"message\"])\n\n        // redirect to CustomRouting with data\n        this.props.history.push({\n          pathname: '/customrouting',\n          state: {usercredentials: username,checkval : res.data[\"message\"]}\n      })\n      })\n      .catch(err => { // then print response status\n      //  toast.error('upload fail')\n      console.log(\"fail\")\n      console.log(err)\n      })\n\n}\nlen = (checkvar) => {\n  return checkvar.length;\n}\n\nvalidateEmail = (email) => {\n  var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(email);\n}\n\ncheckforexistingUsername = (field,value) =>{\n  var data = field+\",\"+value;\n  console.log(\"Calling GO API at 8080 : \")\n  axios.post(\"http://192.168.1.8:8080/validateinfo\",data)\n    .then(res => { // then print response status\n      //toast.success('upload success')\n      console.log(\"API message : \")\n      console.log(res)\n      console.log(\"result : \"+res.data[\"message\"])\n      if(res.data[\"message\"] == \"Yes\"){\n        // existing emailID\n        this.userNameError.innerHTML = \"UserName already taken, please try another.\";\n      }\n      else{\n        // EmailID,UserName,FullName,Password : good\n        // call signupUser\n        this.signupUser();\n\n      }\n\n    })\n    .catch(err => { // then print response status\n    //  toast.error('upload fail')\n    console.log(\"fail\")\n    console.log(err)\n    })\n}\n\ncheckforexistingEmail = (field,value,username) =>{\n  var data = field+\",\"+value;\n  console.log(\"Calling GO API at 8080 : \")\n  axios.post(\"http://192.168.1.8:8080/validateinfo\",data)\n    .then(res => { // then print response status\n      //toast.success('upload success')\n      console.log(\"API message : \")\n      console.log(res)\n      console.log(\"result : \"+res.data[\"message\"])\n      if(res.data[\"message\"] == \"Yes\"){\n        // existing emailID\n        this.emailError.innerHTML = \"Already existing email, do you want to login?\";\n      }\n      else{\n        // EmailID is good, check for UserName\n        this.checkforexistingUsername(\"username\",username);\n      }\n\n    })\n    .catch(err => { // then print response status\n    //  toast.error('upload fail')\n    console.log(\"fail\")\n    console.log(err)\n    })\n}\n\nhandleEmail = (email,flag) => {\n  if(this.validateEmail(email)){\n  this.emailError.innerHTML = \"\";\n\n  // check for exisiting emailId\n  }\n  else{\n    flag = false;\n    console.log(\"Email Error\");\n    this.emailError.innerHTML = \"Invalid emailId\";\n  }\n  return flag;\n}\n\nhandleuserName = (username,flag) => {\n  if(this.len(username)>=4){\n  this.userNameError.innerHTML = \"\";\n  }\n  else{\n    flag = false;\n    console.log(\"userName Error\");\n    this.userNameError.innerHTML = \"Invalid Username\";\n  }\n  return flag;\n}\n\nhandlefullName = (fullname,flag) => {\n  if(this.len(fullname)!=0){\n  this.fullNameError.innerHTML = \"\";\n  console.log(this.len(fullname));\n  }\n  else{\n    flag = false;\n    console.log(\"fullName Error\");\n    this.fullNameError.innerHTML = \"Please fill your name\";\n  }\n  return flag;\n}\n\nhandlePassword = (password,flag) => {\n  if(this.len(password)>=6){\n  this.PasswordError.innerHTML = \"\";\n  console.log(this.len(password));\n  }\n  else{\n    flag = false;\n    console.log(\"fullName Error\");\n    this.PasswordError.innerHTML = \"Password too weak\";\n  }\n  return flag;\n}\n\n\nhandleSubmit = () =>{\n\n  var email = this.emailId.value;\n  var username = this.userName.value;\n  var fullname = this.fullName.value;\n  var password = this.Password.value;\n  var flag = true;\n\n\n// validating email\n  flag = this.handleEmail(email,flag);\n\n// validating username\n  flag = this.handleuserName(username,flag);\n\n// validating fullName\n  flag = this.handlefullName(fullname,flag);\n\n// validating passWord\n  flag = this.handlePassword(password,flag);\n\n  if(flag){\n    // allow to pass through the API\n    this.checkforexistingEmail(\"email\",email,username);\n  }\n  else{\n    // show error (do nothing)\n    console.log(\"invalid entry\");\n  }\n\n}\n\n  render() {\n    return (\n      <div className = \"BackgroundSign\">\n      <h1 className = \"AppName\" >End-to-end data curation and annotation platform</h1>\n\n      <div className=\"Login\">\n        <form>\n        <p class = \"SignInHead\">X-P1</p>\n        <p class = \"SignUpHead\">Sign up to make data collection and image annotation easier.</p>\n\n        <FormGroup controlId=\"email\" bsSize=\"large\">\n          <FormControl\n            autoFocus\n            placeholder=\"Email\"\n            ref = {c => this.emailId = c}\n          />\n        </FormGroup>\n\n        <p className = \"ErrorMessage\" ref = {c => this.emailError = c}></p>\n\n        <FormGroup controlId=\"Username\" bsSize=\"large\">\n          <FormControl\n            autoFocus\n            placeholder=\"Username\"\n            ref = {c => this.userName = c}\n          />\n        </FormGroup>\n\n        <p className = \"ErrorMessage\" ref = {c => this.userNameError = c}></p>\n\n        <FormGroup controlId=\"Name\" bsSize=\"large\">\n          <FormControl\n            autoFocus\n            placeholder=\"Full Name\"\n            ref = {c => this.fullName = c}\n          />\n        </FormGroup>\n\n        <p className = \"ErrorMessage\" ref = {c => this.fullNameError = c}></p>\n\n\n        <FormGroup controlId=\"password\" bsSize=\"large\">\n          <FormControl\n              placeholder=\"Password\"\n              ref = {c => this.Password = c}\n              type=\"password\"\n          />\n\n          <p className = \"ErrorMessage\" ref = {c => this.PasswordError = c}></p>\n\n\n        </FormGroup>\n          <Button block bsSize=\"large\" onClick={this.handleSubmit} type=\"button\">\n            Sign up\n          </Button>\n\n          <p class = \"Terms\">By signing up, you agree to our Terms , Data Policy and Cookies Policy .</p>\n        </form>\n      </div>\n\n      <div className=\"SecondBox\">\n\n        <p className = \"LinkToAccount\">  Have an account?&nbsp;\n          <Link className=\"LinkToSignIn\" to = './signin'>Log in</Link>\n        </p>\n      </div>\n      </div>\n    );\n  }\n}\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}